class App{constructor(){this.startX,this.startY,this.scrollLeft,this.arrowStep=100,this.spaceStep=.8*window.innerWidth,this.batteryLevel=document.getElementById("battery-level"),this.location=document.getElementById("location"),this.bindEvents(),this.setHeight(),this.logStuff()}bindEvents(){document.addEventListener("touchstart",this.handleTouchScrollStart.bind(this),{passive:!0}),document.addEventListener("touchmove",this.handleTouchScrollMove.bind(this),{passive:!1}),document.addEventListener("keydown",this.handleKeyScroll.bind(this)),window.addEventListener("wheel",this.handleWheelScroll.bind(this),{passive:!1})}setHeight(){window.matchMedia("(pointer: coarse)").matches&&(document.getElementById("container").style.height=window.innerHeight+"px")}logStuff(){var t=Array(10).join("☃"),e='color: #fff; text-shadow: 0px -1px 4px white, 0px -2px 10px yellow, 0px -10px 20px #ff8000, 0px -18px 40px red; font: 80px "Comic Sans";';console.log("%c "+t,e),console.log("%c Snow glad to see you",e),console.log("%c "+t,e)}logSize(){var t,e;"#size"===window.location.hash&&(t=document.createElement("div"),Object.assign(t.style,{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",fontFamily:"monospace",fontSize:"14px",padding:"10px",borderRadius:"5px",zIndex:"9999"}),document.body.appendChild(t),e=window.innerWidth,t.textContent=`Window: ${e}px × ${window.innerHeight}px`)}handleTouchScrollStart(t){this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY}handleTouchScrollMove(t){t.preventDefault();var e=Math.abs(this.startX-t.touches[0].clientX),o=Math.abs(this.startY-t.touches[0].clientY);(10<e||10<o)&&(o<e?window.scrollBy({left:.5*(this.startX-t.touches[0].clientX),behavior:"auto"}):window.scrollBy({left:.5*(this.startY-t.touches[0].clientY),behavior:"auto"}))}handleKeyScroll(t){if(" "==t.key||"Space"==t.code||32==t.keyCode)t.preventDefault(),t.shiftKey?window.scrollBy({left:-this.spaceStep,behavior:"smooth"}):window.scrollBy({left:this.spaceStep,behavior:"smooth"});else switch(t.key){case"ArrowUp":case"ArrowLeft":t.preventDefault(),t.metaKey?window.scrollTo({left:0,behavior:"smooth"}):window.scrollBy({left:-this.arrowStep,behavior:"smooth"});break;case"ArrowDown":case"ArrowRight":t.preventDefault(),t.metaKey?window.scrollTo({left:document.body.scrollWidth,behavior:"smooth"}):window.scrollBy({left:this.arrowStep,behavior:"smooth"})}}handleWheelScroll(t){t.preventDefault();t=Math.abs(t.deltaX)>Math.abs(t.deltaY)?t.deltaX:t.deltaY;window.scrollBy({left:t,behavior:"auto"})}async fetchLocalData(){try{var t=await fetch("https://us-central1-projects-342417.cloudfunctions.net/battery");if(!t.ok)throw new Error("Network response was not ok "+t.statusText);var e=await t.json();this.batteryLevel.textContent=`Battery: ${e.batteryLevel}%`,this.location.textContent="Location: "+e.location}catch(t){console.error("There was a problem with the fetch operation:",t),this.batteryLevel.innerHTML="",this.location.innerHTML=""}}}document.addEventListener("DOMContentLoaded",()=>{new App});